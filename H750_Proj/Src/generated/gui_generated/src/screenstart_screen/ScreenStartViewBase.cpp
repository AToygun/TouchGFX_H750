/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/screenstart_screen/ScreenStartViewBase.hpp>
#include "BitmapDatabase.hpp"

ScreenStartViewBase::ScreenStartViewBase() :
    interaction3Counter(0),
    interaction1EndedCallback(this, &ScreenStartViewBase::interaction1EndedCallbackHandler)
{

    image1.setXY(-192, -176);
    image1.setBitmap(touchgfx::Bitmap(BITMAP_TEMPSNIP_ID));
    image1.setAlpha(0);

    add(image1);
}

void ScreenStartViewBase::setupScreen()
{

}

//Handles delays
void ScreenStartViewBase::handleTickEvent()
{
    if(interaction3Counter > 0)
    {
        interaction3Counter--;
        if(interaction3Counter == 0)
        {
            //Interaction4
            //When Interaction3 completed change screen to ScreenMenu
            //Go to ScreenMenu with screen transition towards South
            application().gotoScreenMenuScreenSlideTransitionSouth();
        }
    }
}

//Called when the screen is done with transition/load
void ScreenStartViewBase::afterTransition()
{
    //Interaction1
    //When screen is entered fade image1
    //Fade image1 to alpha:255 with LinearIn easing in 3000 ms (180 Ticks)
    image1.clearFadeAnimationEndedAction();
    image1.startFadeAnimation(255, 180, touchgfx::EasingEquations::linearEaseIn);
    image1.setFadeAnimationEndedAction(interaction1EndedCallback);
}

void ScreenStartViewBase::interaction1EndedCallbackHandler(const touchgfx::FadeAnimator<touchgfx::Image>& comp)
{
    //Interaction2
    //When Interaction1 completed hide image1
    //Hide image1
    image1.setVisible(false);
    image1.invalidate();

    //Interaction3
    //When Interaction2 completed delay
    //Delay for 100 ms (6 Ticks)
    interaction3Counter = INTERACTION3_DURATION;
}
